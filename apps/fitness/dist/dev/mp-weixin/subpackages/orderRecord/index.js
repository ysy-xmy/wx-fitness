"use strict";const e=require("../../common/vendor.js"),c=require("../apis/order/index.js"),m=require("../../state/modules/auth.js");require("../../utils/request.js");require("../../state/modules/mes.js");require("../../api/notify/index.js");Array||e.resolveComponent("van-empty")();Math||g();const g=()=>"../../components/scrollForm/index.js",h=e.defineComponent({__name:"index",setup(i){const p=e.H(),n=e.ref(null),d=m.useAuthStore(),l=r=>({...r,PaymentTime:e.dayjs(r.PaymentTime).format("YYYY-MM-DD")}),_=e.computed(()=>d.user.RoleName=="coach"?c.getCoachOrderlist:c.getOrderlist);let t=e.ref([]);e.onMounted(()=>{e.index.showLoading({title:"数据加载中"}),u(),setTimeout(()=>{e.index.hideLoading()},3e3)});const f=()=>{e.index.showLoading(),n.value.getData(),u()},u=()=>{var r,s;if(t.value=(r=n.value)==null?void 0:r.state.list,(s=n.value)!=null&&s.ifChange()){e.index.hideLoading();return}else setTimeout(()=>{u()},500)},y=(r,s,o,a)=>{p.push({path:`/subpackages/orderDetail/index?id=${r}&&title=${s}&&type=${o}&&count=${a}`})};return(r,s)=>({a:e.f(e.unref(t),(o,a,T)=>e.e({a:e.t(o.ID),b:o.Img,c:e.t(o.CourseName),d:o.CourseType=="lesson"},o.CourseType=="lesson"?{e:e.t(o.LessonCount)}:o.CourseType=="month"?{}:o.CourseType=="quarter"?{}:o.CourseType=="year"?{}:{},{f:o.CourseType=="month",g:o.CourseType=="quarter",h:o.CourseType=="year",i:e.t(o.PaymentTime),j:e.t(o.Amount),k:e.o(x=>y(o.ID,o.CourseName,o.CourseType,o.LessonCount))})),b:e.p({description:"您还没有订单哦~，可以前往购买添加课程哦~"}),c:e.sr(n,"b24e68e8-0",{k:"scorllFormRef"}),d:e.p({fun:e.unref(_),dispose:l,datasources:e.unref(t)}),e:e.o(f)})}}),C=e._export_sfc(h,[["__file","J:/fItness/wx-fitness/apps/fitness/src/subpackages/orderRecord/index.vue"]]);wx.createPage(C);
