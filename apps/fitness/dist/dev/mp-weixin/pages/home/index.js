"use strict";const e=require("../../common/vendor.js"),o=require("../../state/modules/mes.js"),_=require("../../state/app.js"),a=require("../../tabbar/index.js"),x=require("../../api/user/index.js"),g=require("../../state/modules/auth.js"),q=require("../../api/courses/courses.js"),C=require("../../state/tabbar.js");require("../../api/notify/index.js");require("../../utils/request.js");if(!Array){const i=e.resolveComponent("van-tabbar-item"),r=e.resolveComponent("van-tabbar");(i+r)()}Math||(N+I+S+w)();const I=()=>"../../components/stuHome/index.js",S=()=>"../../components/action/index.js",w=()=>"../../components/mine/index.js",N=()=>"../../components/coachHome/index.js",y=e.defineComponent({__name:"index",setup(i){const r=e.H(),n=_.useAppStore(),d=g.useAuthStore(),p=t=>{n.setactive(t.detail),u.value=!1},s=e.ref(""),u=e.ref(!1),b=e.ref(-1),f=e.ref(-1),m=e.ref(""),l=e.ref(""),v=C.useTabbarStore();return e.onMounted(()=>{r.route.value.query.isChoose?(u.value=!0,b.value=decodeURIComponent(r.route.value.query.stuid),f.value=decodeURIComponent(r.route.value.query.courid),m.value=decodeURIComponent(r.route.value.query.type),l.value=decodeURIComponent(r.route.value.query.name)):u.value=!1,d.getUser&&(e.index.showLoading(),x.getUserInfo().then(t=>{e.index.hideLoading(),s.value=t.data.data.RoleName,d.setUser({OpenID:t.data.data.OpenID,name:t.data.data.Username||"微信用户",id:t.data.data.ID,phone:t.data.data.phone,Sex:t.data.data.Sex||0,img:t.data.data.Avatar,RoleName:t.data.data.RoleName,Age:t.data.data.Age||"18"}),t.data.data.RoleName=="coach"&&q.getCoachClass(t.data.data.ID).then(c=>{d.setClassId(c.data.data.ID)}).catch(c=>{console.log(c)})}).catch(t=>{e.index.hideLoading()}))}),(t,c)=>e.e({a:s.value=="coach"},s.value=="coach"?{}:{},{b:e.unref(n).active==="index",c:e.p({["if-choose"]:u.value,stuid:b.value,courid:f.value,type:m.value,name:l.value}),d:e.unref(n).active==="action",e:e.unref(n).active==="mine",f:e.unref(v).show},e.unref(v).show?e.e({g:e.unref(n).active==e.unref(a.tabbardata)[0].name},e.unref(n).active==e.unref(a.tabbardata)[0].name?{h:e.t(e.unref(a.tabbardata)[0].title),i:e.unref(a.tabbardata)[0].textactivecolor,j:e.unref(a.tabbardata)[0].activeicon,k:e.p({name:e.unref(a.tabbardata)[0].name,placeholder:!0})}:{l:e.t(e.unref(a.tabbardata)[0].title),m:e.unref(a.tabbardata)[0].textcolor,n:e.unref(a.tabbardata)[0].inactiveicon,o:e.p({name:e.unref(a.tabbardata)[0].name})},{p:e.unref(n).active==e.unref(a.tabbardata)[1].name},e.unref(n).active==e.unref(a.tabbardata)[1].name?{q:e.t(e.unref(a.tabbardata)[1].title),r:e.unref(a.tabbardata)[1].textactivecolor,s:e.unref(a.tabbardata)[1].activeicon,t:e.p({name:e.unref(a.tabbardata)[1].name})}:{v:e.t(e.unref(a.tabbardata)[1].title),w:e.unref(a.tabbardata)[1].textcolor,x:e.unref(a.tabbardata)[1].inactiveicon,y:e.p({name:e.unref(a.tabbardata)[1].name})},{z:e.unref(n).active==e.unref(a.tabbardata)[2].name},e.unref(n).active==e.unref(a.tabbardata)[2].name?e.e({A:e.t(e.unref(a.tabbardata)[2].title),B:e.unref(a.tabbardata)[2].textactivecolor,C:e.unref(o.usemesStore)().hadNew>0},e.unref(o.usemesStore)().hadNew>0?{D:e.t(e.unref(o.usemesStore)().hadNew)}:{},{E:e.unref(a.tabbardata)[2].activeicon,F:e.p({name:e.unref(a.tabbardata)[2].name})}):e.e({G:e.t(e.unref(a.tabbardata)[2].title),H:e.unref(a.tabbardata)[2].textcolor,I:e.unref(o.usemesStore)().hadNew>0},e.unref(o.usemesStore)().hadNew>0?{J:e.t(e.unref(o.usemesStore)().hadNew)}:{},{K:e.unref(a.tabbardata)[2].inactiveicon,L:e.p({name:e.unref(a.tabbardata)[2].name})}),{M:e.o(p),N:e.o(h=>e.unref(n).getcurrentactive=h),O:e.p({placeholder:!0,modelValue:e.unref(n).getcurrentactive})}):{})}}),A=e._export_sfc(y,[["__file","J:/fItness/wx-fitness/apps/fitness/src/pages/home/index.vue"]]);wx.createPage(A);
