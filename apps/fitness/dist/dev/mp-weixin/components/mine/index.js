"use strict";const e=require("../../common/vendor.js"),x=require("../../api/coach/index.js"),d=require("../../api/user/index.js"),n=require("../../state/modules/auth.js"),g=require("../../state/modules/mes.js");require("../../utils/request.js");require("../../api/notify/index.js");const T=e.defineComponent({__name:"index",setup(k){const o=e.H(),m=n.useAuthStore();e.computed(()=>m.user);const s=e.ref("0"),r=e.ref("0"),t=e.ref("student"),v=e.ref(""),h=e.ref(""),c=e.ref(0),i=e.ref(0);e.onMounted(async()=>{e.index.$on("changeUser",async u=>{const a=await(await d.getUserInfo()).data.data;v.value=a.Avatar,c.value=a.Age,i.value=a.Sex,h.value=a.Username}),e.index.$on("changeBody",u=>{console.log("变"),d.getHWInfo().then(a=>{t==="student"&&(s.value=a.data.data.Height.toString(),r.value=a.data.data.Weight.toString())})});const l=await(await d.getUserInfo()).data.data;v.value=l.Avatar,c.value=l.Age,i.value=l.Sex,h.value=l.Username,t.value=l.RoleName?l.RoleName:"student",t.value==="coach"?x.getCourseAndStudentCount().then(u=>{s.value=u.data.data.CourseCount.toString(),r.value=u.data.data.StudentCount.toString()}):d.getHWInfo().then(u=>{s.value=u.data.data.Height.toString(),r.value=u.data.data.Weight.toString()})});const S=()=>{o.push({name:"info"})},p=()=>{o.push({name:"mes"})},_=()=>{o.push({name:"orderRecord"})},f=()=>{o.push({name:"indicators"})},A=()=>{o.push({name:"diyTable"})};return(l,u)=>e.e({a:e.o(a=>e.unref(o).push({name:"login"})),b:e.unref(n.useAuthStore)().getToken},e.unref(n.useAuthStore)().getToken?{c:`url(${v.value})`}:{d:"url('https://zhanjiang-fitness.oss-cn-guangzhou.aliyuncs.com/20250101')"},{e:e.unref(n.useAuthStore)().getToken},e.unref(n.useAuthStore)().getToken?e.e({f:e.t(h.value),g:i.value===1},i.value===1?{}:{}):{},{h:e.unref(n.useAuthStore)().getToken},e.unref(n.useAuthStore)().getToken?{i:e.t(c.value?c.value+"岁":"未填写")}:{j:e.o(a=>e.unref(o).push({name:"login"}))},{k:t.value==="student"},t.value==="student"?e.e({l:e.unref(n.useAuthStore)().getToken&&s.value!="0"},e.unref(n.useAuthStore)().getToken&&s.value!="0"?{m:e.t(s.value)}:{},{n:e.o(f)}):{o:e.t(s.value)},{p:t.value==="student"},t.value==="student"?e.e({q:e.unref(n.useAuthStore)().getToken&&r.value!="0"},e.unref(n.useAuthStore)().getToken&&r.value!="0"?{r:e.t(r.value)}:{},{s:e.o(f)}):{t:e.t(r.value)},{v:e.o(S),w:t.value==="student"},t.value==="student"?{x:e.o(_)}:{},{y:e.o(f),z:e.unref(g.usemesStore)().hadNew>0},e.unref(g.usemesStore)().hadNew>0?{A:e.t(e.unref(g.usemesStore)().hadNew)}:{},{B:e.o(p),C:t.value==="coach"},t.value==="coach"?{D:e.o(A)}:{})}}),w=e._export_sfc(T,[["__file","J:/fItness/wx-fitness/apps/fitness/src/components/mine/index.vue"]]);wx.createComponent(w);
