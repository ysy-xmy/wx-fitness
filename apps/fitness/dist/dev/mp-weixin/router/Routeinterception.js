"use strict";const i=require("../common/vendor.js"),a=require("../state/modules/auth.js"),t=["login","wode","home","index","course","diyTable","actionDetail","buyCourse","serviceTerms"];function u(o){o.beforeEach((e,s,n)=>{a.useAuthStore().isLogin||t.includes(e.name)?n():n({name:"login"})}),o.afterEach(e=>{const s=a.useAuthStore();if(console.log("我先执行还是他先执行"),!s.isLogin&&e&&e.name!=="login")t.includes(e.name)||o.push({name:"login",params:{...e.query}});else if(s.isLogin&&e&&e.name==="login")if(i.index.getStorageSync("token")){const n=i.index.getStorageSync("toBuy");console.log(n,7890),n&&i.index.navigateTo({path:"/subpackages/coursePurchase/index",query:JSON.parse(n)})}else o.replaceAll({name:"home"})})}exports.userRouternext=u;
