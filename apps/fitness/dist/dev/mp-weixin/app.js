"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("./common/vendor.js"),c=require("./api/user/index.js"),i=require("./state/modules/auth.js"),o=require("./state/modules/mes.js"),u=require("./state/index.js"),d=require("./router/index.js");require("./utils/request.js");require("./api/notify/index.js");require("./router/Routeinterception.js");const p=e.defineComponent({__name:"App",setup(a){const t=i.useAuthStore();return e.onLaunch(()=>{e.index.getStorageSync("token")&&c.refreshToken().then(s=>{if(s.data.data.Remove){e.index.clearStorage(),t.clearStore();return}else{if(!s.data.data.Remove&&!s.data.data.Refresh)return;{let n=s.data.data.Token;t.setToken(n),e.index.setStorageSync("token",n);return}}})}),e.onShow(()=>{}),e.onHide(()=>{o.usemesStore().closeSocket()}),e.onUnload(()=>{const s=o.usemesStore();s&&s.socket&&s.closeSocket()}),()=>{}}}),x=e._export_sfc(p,[["__file","J:/fItness/wx-fitness/apps/fitness/src/App.vue"]]);function r(){const a=e.createSSRApp(x);return a.use(u.store),a.use(d.router),{app:a}}r().app.mount("#app");exports.createApp=r;
