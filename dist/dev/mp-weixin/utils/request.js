"use strict";const t=require("../common/vendor.js"),s=new t.Request({baseURL:"https://meet.ysyxmy.top",timeout:3e4,header:{"Content-Type":"multipart/form-data;application/json;charset=UTF-8;"}});s.interceptors.request.use(e=>(t.index.getStorageSync("token"),e.method==="POST"&&(e.data=JSON.stringify(e.data)),e),e=>Promise.resolve(e));s.interceptors.response.use(e=>e,e=>{e.statusCode==401&&(t.index.clearStorageSync(),t.index.switchTab({url:"/pages/index/index.vue"}));const{errMsg:r}=e;return console.log(r),t.index.showToast({title:r,duration:2e3}),Promise.resolve(e)});exports.http=s;
