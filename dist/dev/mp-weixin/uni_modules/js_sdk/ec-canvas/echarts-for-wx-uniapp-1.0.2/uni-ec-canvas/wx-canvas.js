"use strict";exports.WxCanvas=class{constructor(t,e,i,a){this.ctx=t,this.canvasId=e,this.chart=null,this.isNew=i,i?this.canvasNode=a:this._initStyle(t),this._initEvent()}getContext(t){if("2d"===t)return this.ctx}setChart(t){this.chart=t}attachEvent(){}detachEvent(){}_initCanvas(t,e){t.util.getContext=function(){return e},t.util.$override("measureText",(function(t,i){return e.font=i||"12px sans-serif",e.measureText(t)}))}_initStyle(t){["fillStyle","strokeStyle","globalAlpha","textAlign","textBaseAlign","shadow","lineWidth","lineCap","lineJoin","lineDash","miterLimit","fontSize"].forEach((e=>{Object.defineProperty(t,e,{set:i=>{("fillStyle"!==e&&"strokeStyle"!==e||"none"!==i&&null!==i)&&t["set"+e.charAt(0).toUpperCase()+e.slice(1)](i)}})})),t.createRadialGradient=()=>t.createCircularGradient(arguments)}_initEvent(){this.event={};[{wxName:"touchStart",ecName:"mousedown"},{wxName:"touchMove",ecName:"mousemove"},{wxName:"touchEnd",ecName:"mouseup"},{wxName:"touchEnd",ecName:"click"}].forEach((t=>{this.event[t.wxName]=e=>{const i=e.touches[0];this.chart.getZr().handler.dispatch(t.ecName,{zrX:"tap"===t.wxName?i.clientX:i.x,zrY:"tap"===t.wxName?i.clientY:i.y})}}))}set width(t){this.canvasNode&&(this.canvasNode.width=t)}set height(t){this.canvasNode&&(this.canvasNode.height=t)}get width(){return this.canvasNode?this.canvasNode.width:0}get height(){return this.canvasNode?this.canvasNode.height:0}};
