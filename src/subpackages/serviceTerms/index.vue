<template>
  <view class="service-terms-container">
    <scroll-view scroll-y class="scroll-content">
      <view class="header">
        <text class="title">{{ pageTitle }}</text>
      </view>

      <view class="content">
        <text 
          v-for="(paragraph, index) in currentContent" 
          :key="index" 
          class="paragraph"
        >
          {{ paragraph }}
        </text>
      </view>
    </scroll-view>
  </view>
</template>

<script setup lang="ts">
import { ref, computed, onMounted } from 'vue'
import { useRoute } from 'uni-mini-router'

const route = useRoute()
const contentType = ref<'terms' | 'privacy'>('terms')

const serviceTermsParagraphs = [
  '尊敬的用户：',
  '欢迎使用本微信小程序（以下简称"小程序"）。为了保障您的权益，明确您与小程序提供者之间的法律关系与责任，特制定本《微信小程序用户服务协议》（以下简称"本协议"）。请您在使用小程序前仔细阅读并理解本协议的全部内容。一旦您开始使用小程序，即表示您已充分阅读、理解并接受本协议的所有条款和条件，同意成为本协议的一方当事人，受本协议约束。如果您不同意本协议中的任何条款，请立即停止使用小程序。',
  
  '一、定义与范围',
  '小程序：指由小程序提供者开发、运行于微信平台上的应用程序，为用户提供特定的服务功能。小程序提供者：指负责开发、维护并提供小程序服务的主体，包括但不限于自然人、法人或其他组织。用户：指通过微信平台访问并使用小程序的个人或实体。服务：指小程序提供的所有功能和服务，包括但不限于信息查询、在线交易、互动娱乐等。',
  
  '二、账号注册与使用',
  '用户需拥有有效的微信号才能登录和使用小程序。用户在注册时应提供真实、准确的信息，并在信息发生变化时及时更新。用户应妥善保管自己的账号和密码，不得将账号转让、出租或以其他方式让他人使用。',
  
  '三、服务内容与规则',
  '小程序将根据用户需求提供相应的服务，具体服务内容和标准以小程序内展示为准。用户在使用服务过程中应遵守国家法律法规、社会公德及本协议的相关规定。禁止利用小程序进行任何违法、违规活动，包括但不限于发布虚假信息、侵犯他人合法权益等。',
  
  '四、知识产权',
  '小程序及其包含的所有内容（如文字、图片、音频、视频等）的知识产权归小程序提供者或其合法权利人所有。用户在使用小程序过程中产生的数据和信息，其所有权归属根据相关法律法规及本协议约定确定。未经小程序提供者书面许可，用户不得以任何形式复制、传播、出售或用于其他商业目的。',
  
  '五、隐私保护',
  '小程序将严格遵守相关法律法规的规定，保护用户的个人信息安全。小程序在收集、使用用户个人信息时，将遵循合法、正当、必要的原则，并事先征得用户同意。用户有权查询、更正或删除自己的个人信息，具体操作方法见小程序内的相关设置。',
  
  '六、免责声明',
  '小程序提供者不对因网络故障、系统升级等原因导致的服务中断或延迟承担责任。对于用户在使用小程序过程中可能遇到的第三方链接或服务，小程序提供者不承担任何连带责任。如因不可抗力因素导致本协议无法履行，双方互不承担责任。',
  
  '七、争议解决',
  '本协议的订立、执行和解释以及与本协议有关的争议，均应适用中华人民共和国法律。因本协议引起的或与本协议有关的任何争议，双方应首先通过友好协商解决；协商不成时，任何一方均可向有管辖权的人民法院提起诉讼。',
  
  '八、其他',
  '小程序提供者有权根据实际情况对本协议进行修改，修改后的协议将在小程序内公布，不再单独通知用户。用户继续使用小程序即视为接受修改后的协议。如用户对本协议有任何疑问或建议，可通过小程序内的客服渠道联系我们。本协议自用户首次使用小程序之日起生效，至用户注销账号或小程序终止服务之日止。感谢您对小程序的支持与信任！'
]

const privacyTermsParagraphs = [
  '一、引言',
  '本隐私保护条例旨在明确我们如何收集、使用、存储、共享和保护您的个人信息。我们深知个人信息对您的重要性，因此我们会严格遵守相关法律法规，采取合理的安全措施来保护您的个人信息。',
  
  '二、信息收集',
  '（一）收集的信息类型',
  '基本信息：当您注册或使用我们的小程序时，我们可能会收集您的姓名、性别、年龄、联系方式（如手机号码、电子邮箱等）、头像、昵称等基本信息。',
  '使用信息：我们可能会收集您使用小程序时产生的日志信息，包括但不限于访问时间、访问页面、操作行为、设备型号、操作系统版本、网络状态等。',
  '位置信息：如果我们的小程序提供基于位置的服务，我们可能会收集您的位置信息，包括GPS坐标、IP地址、Wi-Fi接入点等。',
  '其他信息：根据您使用的小程序功能，我们还可能会收集其他相关信息，例如您上传的图片、视频、音频等多媒体内容，以及您在小程序内的评论、点赞、分享等行为数据。',
  
  '（二）收集信息的目的',
  '提供服务：为了向您提供小程序的各项功能和服务，例如个性化推荐、内容展示、社交互动等。',
  '优化体验：通过分析您的使用行为和偏好，不断优化小程序的功能和用户体验。',
  '安全保障：用于检测和防范安全风险，保障您的账户安全和数据安全。',
  '法律合规：满足相关法律法规的要求，例如实名认证、反洗钱等。',
  '市场调研：了解用户需求和市场趋势，以便我们改进产品和服务。',
  
  '三、信息使用',
  '（一）使用方式',
  '内部使用：我们会在小程序内部使用您的个人信息，以提供和优化服务。',
  '数据分析：对收集到的信息进行统计和分析，以了解用户行为和偏好，从而改进产品和服务。',
  '个性化推荐：根据您的使用历史和偏好，为您推荐相关内容和服务。',
  
  '（二）使用限制',
  '严格保密：我们不会将您的个人信息用于本隐私保护条例未明确说明的其他目的，除非事先获得您的明确同意。',
  '匿名化处理：在进行数据分析和市场调研时，我们会对您的个人信息进行匿名化处理，以确保无法识别您的个人身份。',
  
  '四、信息共享',
  '（一）共享原则',
  '合法合规：我们不会将您的个人信息共享给任何未经授权的第三方，除非根据法律法规的要求或您的明确授权。',
  '必要性原则：只有在实现本隐私保护条例所述目的所必需的情况下，我们才会与第三方共享您的个人信息。',
  
  '（二）共享对象',
  '服务提供商：我们可能会与为我们提供技术支持、数据分析、客户服务等服务的第三方服务提供商共享您的个人信息，但这些服务提供商只能在我们的授权范围内使用您的信息，并且必须遵守与我们相同的隐私保护义务。',
  '合作伙伴：在某些情况下，我们可能会与合作伙伴共享您的个人信息，例如联合营销活动、共同开发新产品等，但我们会要求合作伙伴严格遵守本隐私保护条例，并采取合理的安全措施保护您的个人信息。',
  '法律机构：如果根据法律法规的要求，我们需要向政府机构、司法机关等披露您的个人信息，我们将依法进行披露，但会尽量限制披露范围，确保您的个人信息得到合理保护。'
]

onMounted(() => {
  // 从路由参数获取类型
  const params = route.params as { type?: 'terms' | 'privacy' }
  if (params.type) {
    contentType.value = params.type
  }
})

const currentContent = computed(() => 
  contentType.value === 'terms' ? serviceTermsParagraphs : privacyTermsParagraphs
)

const pageTitle = computed(() => 
  contentType.value === 'terms' 
    ? '轻律健身微信小程序用户服务协议' 
    : '轻律健身小程序隐私保护条例'
)
</script>

<style lang="scss" scoped>
.service-terms-container {
  width: 100%;
  height: 100vh;
  background-color: #ffffff;
  display: flex;
  justify-content: center;
  padding: 30rpx;
  box-sizing: border-box;
}

.scroll-content {
  width: 100%;
  height: 100%;
  background-color: #ffffff;
  overflow-y: scroll;
}

.header {
  text-align: center;
  margin-bottom: 40rpx;
  
  .title {
    display: block;
    font-size: 42rpx;
    font-weight: bold;
    color: #000000;
  }
}

.content {
  padding: 0 30rpx;

  .paragraph {
    display: block;
    font-size: 30rpx;
    color: #000000;
    line-height: 2;
    margin-bottom: 30rpx;
    text-indent: 2em;
  }
}
</style> 